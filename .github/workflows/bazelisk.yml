name: install bazelisk

on:
  push:
    branches: [master]
  pull_request:
    branches: [master]

jobs:
  instal-bazelisk:
    strategy:
      matrix:
        os: ["ubuntu-latest", "macos-latest"]
    runs-on: ${{ matrix.os }}
    steps:
      - uses: actions/checkout@v2
      - name: Checkout Bazelisk action
        uses: actions/checkout@v2
        with:
          repository: promiseofcake/bazelisk-action
          path: ./.github/actions/bazelisk-action
          # ljk/improve-inputs
          ref: 'f61ea5fb8e0a01b6432e3c469e2597f3f534f486'
      - name: Setup Bazelisk
        uses: ./.github/actions/bazelisk-action
        with:
          os: ${{ runner.os }}
      - name: Bazel info
        run: bazel info
